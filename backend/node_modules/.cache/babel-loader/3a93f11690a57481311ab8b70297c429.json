{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\dardo\\\\Desktop\\\\e-commerce\\\\frontend\\\\src\\\\components\\\\layout\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport axios from \"axios\";\nimport Card from \"../Products/Card\";\nimport Pagination from \"./Pagination\";\n\nconst Listings = () => {\n  _s();\n\n  const [listings, setListings] = useState([]);\n  const [count, setCount] = useState(0);\n  const [previous, setPrevious] = useState(\"\");\n  const [next, setNext] = useState(\"\");\n  const [active, setActive] = useState(1);\n  const [loading, setLoading] = useEffect(() => {\n    window.scrollTo(0, 0);\n\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`http://127.0.0.1:8000/products/?page=1`);\n        setListings(res.data.results);\n        setCount(res.data.count);\n        setPrevious(res.data.previous);\n        setNext(res.data.next);\n      } catch (err) {}\n    };\n\n    fetchData();\n  }, []);\n\n  const displayListings = () => {\n    let display = [];\n    let result = [];\n    listings.map(listing => {\n      return display.push( /*#__PURE__*/_jsxDEV(Card, {\n        title: listing.title,\n        price: listing.price,\n        description: listing.description,\n        photo_main: listing.photo_main,\n        id: listing.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this));\n    });\n\n    for (let i = 0; i < listings.length; i += 3) {\n      result.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1-of-3\",\n          children: display[i]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1-of-3\",\n          children: display[i + 1] ? display[i + 1] : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1-of-3\",\n          children: display[i + 2] ? display[i + 2] : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this));\n    }\n\n    return result;\n  };\n\n  const visitPage = page => {\n    axios.get(`http://127.0.0.1:8000/products/?page=${page}`).then(res => {\n      setListings(res.data.results);\n      setPrevious(res.data.previous);\n      setNext(res.data.next);\n      setActive(page);\n    }).catch(err => {});\n  };\n\n  const previous_number = () => {\n    axios.get(previous).then(res => {\n      setListings(res.data.results);\n      setPrevious(res.data.previous);\n      setNext(res.data.next);\n      if (previous) setActive(active - 1);\n    }).catch(err => {});\n  };\n\n  const next_number = () => {\n    axios.get(next).then(res => {\n      setListings(res.data.results);\n      setPrevious(res.data.previous);\n      setNext(res.data.next);\n      if (next) setActive(active + 1);\n    }).catch(err => {});\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"listings\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Realest Estate - Listings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Listings page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"listings__listings\",\n      children: displayListings()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"listings__pagination\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          itemsPerPage: 3,\n          count: count,\n          visitPage: visitPage,\n          previous: previous_number,\n          next: next_number,\n          active: active,\n          setActive: setActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Listings, \"ZLsR4mYrMOnZZS0+V5WYjhxIpEQ=\");\n\n_c = Listings;\nexport default Listings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Listings\");","map":{"version":3,"sources":["C:/Users/dardo/Desktop/e-commerce/frontend/src/components/layout/Home.js"],"names":["React","useState","useEffect","Helmet","axios","Card","Pagination","Listings","listings","setListings","count","setCount","previous","setPrevious","next","setNext","active","setActive","loading","setLoading","window","scrollTo","fetchData","res","get","data","results","err","displayListings","display","result","map","listing","push","title","price","description","photo_main","id","i","length","visitPage","page","then","catch","previous_number","next_number"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport axios from \"axios\";\r\nimport Card from \"../Products/Card\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nconst Listings = () => {\r\n  const [listings, setListings] = useState([]);\r\n  const [count, setCount] = useState(0);\r\n  const [previous, setPrevious] = useState(\"\");\r\n  const [next, setNext] = useState(\"\");\r\n  const [active, setActive] = useState(1);\r\n  const [loading,setLoading]=\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await axios.get(`http://127.0.0.1:8000/products/?page=1`);\r\n\r\n        setListings(res.data.results);\r\n        setCount(res.data.count);\r\n        setPrevious(res.data.previous);\r\n        setNext(res.data.next);\r\n      } catch (err) {}\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const displayListings = () => {\r\n    let display = [];\r\n    let result = [];\r\n\r\n    listings.map((listing) => {\r\n      return display.push(\r\n        <Card\r\n          title={listing.title}\r\n          price={listing.price}\r\n          description={listing.description}\r\n          photo_main={listing.photo_main}\r\n          id={listing.id}\r\n        />\r\n      );\r\n    });\r\n\r\n    for (let i = 0; i < listings.length; i += 3) {\r\n      result.push(\r\n        <div key={i} className=\"row\">\r\n          <div className=\"col-1-of-3\">{display[i]}</div>\r\n          <div className=\"col-1-of-3\">\r\n            {display[i + 1] ? display[i + 1] : null}\r\n          </div>\r\n          <div className=\"col-1-of-3\">\r\n            {display[i + 2] ? display[i + 2] : null}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  const visitPage = (page) => {\r\n    axios\r\n      .get(`http://127.0.0.1:8000/products/?page=${page}`)\r\n      .then((res) => {\r\n        setListings(res.data.results);\r\n        setPrevious(res.data.previous);\r\n        setNext(res.data.next);\r\n        setActive(page);\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  const previous_number = () => {\r\n    axios\r\n      .get(previous)\r\n      .then((res) => {\r\n        setListings(res.data.results);\r\n        setPrevious(res.data.previous);\r\n        setNext(res.data.next);\r\n        if (previous) setActive(active - 1);\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  const next_number = () => {\r\n    axios\r\n      .get(next)\r\n      .then((res) => {\r\n        setListings(res.data.results);\r\n        setPrevious(res.data.previous);\r\n        setNext(res.data.next);\r\n        if (next) setActive(active + 1);\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  return (\r\n    <main className=\"listings\">\r\n      <Helmet>\r\n        <title>Realest Estate - Listings</title>\r\n        <meta name=\"description\" content=\"Listings page\" />\r\n      </Helmet>\r\n      <section className=\"listings__listings\">{displayListings()}</section>\r\n      <section className=\"listings__pagination\">\r\n        <div className=\"row\">\r\n          <Pagination\r\n            itemsPerPage={3}\r\n            count={count}\r\n            visitPage={visitPage}\r\n            previous={previous_number}\r\n            next={next_number}\r\n            active={active}\r\n            setActive={setActive}\r\n          />\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Listings;\r\n"]},"metadata":{},"sourceType":"module"}