{"ast":null,"code":"import _objectSpread from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{SIGNUP_SUCCESS,LOGOUT,LOGIN_SUCCESS,AUTHENTICATED_SUCCESS,USER_LOADED_SUCCESS}from\"../constants\";var initialeState={access:localStorage.getItem(\"access\"),refresh:localStorage.getItem(\"refresh\"),isAuthenticated:null,user:JSON.parse(localStorage.getItem(\"user\")),loading:false};var account=function account(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialeState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case AUTHENTICATED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true});case LOGIN_SUCCESS:localStorage.setItem(\"access\",payload.access);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.access,refresh:payload.refresh});case SIGNUP_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false});case USER_LOADED_SUCCESS:localStorage.setItem(\"user\",JSON.stringify(payload));return _objectSpread(_objectSpread({},state),{},{user:payload});case LOGOUT:localStorage.removeItem(\"access\");localStorage.removeItem(\"refresh\");localStorage.removeItem(\"user\");localStorage.removeItem(\"cart\");return _objectSpread(_objectSpread({},state),{},{access:null,refresh:null,isAuthenticated:false,user:null});default:return state;}};export default account;","map":{"version":3,"sources":["C:/Users/dardo/Desktop/e-commerce/frontend/src/JS/reducers/account.js"],"names":["SIGNUP_SUCCESS","LOGOUT","LOGIN_SUCCESS","AUTHENTICATED_SUCCESS","USER_LOADED_SUCCESS","initialeState","access","localStorage","getItem","refresh","isAuthenticated","user","JSON","parse","loading","account","state","action","type","payload","setItem","stringify","removeItem"],"mappings":"gKAAA,OACEA,cADF,CAEEC,MAFF,CAGEC,aAHF,CAIEC,qBAJF,CAKEC,mBALF,KAMO,cANP,CAOA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,MAAM,CAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADY,CAEpBC,OAAO,CAAEF,YAAY,CAACC,OAAb,CAAqB,SAArB,CAFW,CAGpBE,eAAe,CAAE,IAHG,CAIpBC,IAAI,CAAEC,IAAI,CAACC,KAAL,CAAWN,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAJc,CAKpBM,OAAO,CAAE,KALW,CAAtB,CAQA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAmC,IAAlCC,CAAAA,KAAkC,2DAA1BX,aAA0B,IAAXY,CAAAA,MAAW,8CACzCC,CAAAA,IADyC,CACvBD,MADuB,CACzCC,IADyC,CACnCC,OADmC,CACvBF,MADuB,CACnCE,OADmC,CAEjD,OAAQD,IAAR,EACE,IAAKf,CAAAA,qBAAL,CACE,sCACKa,KADL,MAEEN,eAAe,CAAE,IAFnB,GAIF,IAAKR,CAAAA,aAAL,CACEK,YAAY,CAACa,OAAb,CAAqB,QAArB,CAA+BD,OAAO,CAACb,MAAvC,EACA,sCACKU,KADL,MAEEN,eAAe,CAAE,IAFnB,CAGEJ,MAAM,CAAEa,OAAO,CAACb,MAHlB,CAIEG,OAAO,CAAEU,OAAO,CAACV,OAJnB,GAMF,IAAKT,CAAAA,cAAL,CACE,sCACKgB,KADL,MAEEN,eAAe,CAAE,KAFnB,GAKF,IAAKN,CAAAA,mBAAL,CACEG,YAAY,CAACa,OAAb,CAAqB,MAArB,CAA6BR,IAAI,CAACS,SAAL,CAAeF,OAAf,CAA7B,EACA,sCACKH,KADL,MAEEL,IAAI,CAAEQ,OAFR,GAIF,IAAKlB,CAAAA,MAAL,CACEM,YAAY,CAACe,UAAb,CAAwB,QAAxB,EACAf,YAAY,CAACe,UAAb,CAAwB,SAAxB,EACAf,YAAY,CAACe,UAAb,CAAwB,MAAxB,EACAf,YAAY,CAACe,UAAb,CAAwB,MAAxB,EACA,sCACKN,KADL,MAEEV,MAAM,CAAE,IAFV,CAGEG,OAAO,CAAE,IAHX,CAIEC,eAAe,CAAE,KAJnB,CAKEC,IAAI,CAAE,IALR,GAOF,QACE,MAAOK,CAAAA,KAAP,CAvCJ,CAyCD,CA3CD,CA6CA,cAAeD,CAAAA,OAAf","sourcesContent":["import {\r\n  SIGNUP_SUCCESS,\r\n  LOGOUT,\r\n  LOGIN_SUCCESS,\r\n  AUTHENTICATED_SUCCESS,\r\n  USER_LOADED_SUCCESS,\r\n} from \"../constants\";\r\nconst initialeState = {\r\n  access: localStorage.getItem(\"access\"),\r\n  refresh: localStorage.getItem(\"refresh\"),\r\n  isAuthenticated: null,\r\n  user: JSON.parse(localStorage.getItem(\"user\")),\r\n  loading: false,\r\n};\r\n\r\nconst account = (state = initialeState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case AUTHENTICATED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      localStorage.setItem(\"access\", payload.access);\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        access: payload.access,\r\n        refresh: payload.refresh,\r\n      };\r\n    case SIGNUP_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n      };\r\n\r\n    case USER_LOADED_SUCCESS:\r\n      localStorage.setItem(\"user\", JSON.stringify(payload));\r\n      return {\r\n        ...state,\r\n        user: payload,\r\n      };\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"access\");\r\n      localStorage.removeItem(\"refresh\");\r\n      localStorage.removeItem(\"user\");\r\n      localStorage.removeItem(\"cart\");\r\n      return {\r\n        ...state,\r\n        access: null,\r\n        refresh: null,\r\n        isAuthenticated: false,\r\n        user: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default account;\r\n"]},"metadata":{},"sourceType":"module"}