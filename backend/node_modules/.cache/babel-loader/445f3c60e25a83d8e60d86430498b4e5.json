{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{START_CART,CART_SUCCESS,CART_FAIL,DELETE_SUCCESS}from\"../constants\";import axios from\"axios\";import{returnErrors,clearErrors}from\"./errors\";export var fetchCart=function fetchCart(user_id){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!localStorage.getItem(\"access\")){_context.next=14;break;}config={headers:{\"Content-Type\":\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"access\")),Accept:\"application/json\"}};_context.prev=2;_context.next=5;return axios.get(\"http://127.0.0.1:8000/products/OrderSummary/\".concat(user_id),config);case 5:res=_context.sent;dispatch({type:CART_SUCCESS,payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:CART_FAIL});case 12:_context.next=15;break;case 14:dispatch({type:CART_FAIL});case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var DeleteItemFromCart=function DeleteItemFromCart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!localStorage.getItem(\"access\")){_context2.next=13;break;}config={headers:{\"Content-Type\":\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"access\")),Accept:\"application/json\"}};_context2.prev=2;_context2.next=5;return axios.delete(\"http://127.0.0.1:8000/products/order-items/\".concat(id,\"/delete/\"),config);case 5:dispatch({type:DELETE_SUCCESS,payload:id});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](2);dispatch({type:CART_FAIL});case 11:_context2.next=14;break;case 13:dispatch({type:CART_FAIL});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[2,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/dardo/Desktop/e-commerce/frontend/src/JS/actions/product.js"],"names":["START_CART","CART_SUCCESS","CART_FAIL","DELETE_SUCCESS","axios","returnErrors","clearErrors","fetchCart","user_id","dispatch","localStorage","getItem","config","headers","Authorization","Accept","get","res","type","payload","data","DeleteItemFromCart","id","delete"],"mappings":"+TAAA,OACEA,UADF,CAEEC,YAFF,CAGEC,SAHF,CAIEC,cAJF,KAKO,cALP,CAMA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,CAAuBC,WAAvB,KAA0C,UAA1C,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,OAAD,iGAAa,iBAAOC,QAAP,qIAChCC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADgC,0BAE5BC,MAF4B,CAEnB,CACbC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,eAASJ,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAT,CAFN,CAGPI,MAAM,CAAE,kBAHD,CADI,CAFmB,uCAWdX,CAAAA,KAAK,CAACY,GAAN,uDAC+BR,OAD/B,EAEhBI,MAFgB,CAXc,QAW1BK,GAX0B,eAgBhCR,QAAQ,CAAC,CACPS,IAAI,CAAEjB,YADC,CAEPkB,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAhBgC,+EAqBhCX,QAAQ,CAAC,CACPS,IAAI,CAAEhB,SADC,CAAD,CAAR,CArBgC,uCA0BlCO,QAAQ,CAAC,CACPS,IAAI,CAAEhB,SADC,CAAD,CAAR,CA1BkC,oEAAb,gEAAlB,CAgCP,MAAO,IAAMmB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,EAAD,kGAAQ,kBAAOb,QAAP,qIACpCC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADoC,2BAEhCC,MAFgC,CAEvB,CACbC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,eAASJ,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAT,CAFN,CAGPI,MAAM,CAAE,kBAHD,CADI,CAFuB,yCAW9BX,CAAAA,KAAK,CAACmB,MAAN,sDAC0CD,EAD1C,aAEJV,MAFI,CAX8B,QAgBpCH,QAAQ,CAAC,CACPS,IAAI,CAAEf,cADC,CAEPgB,OAAO,CAAEG,EAFF,CAAD,CAAR,CAhBoC,mFAqBpCb,QAAQ,CAAC,CACPS,IAAI,CAAEhB,SADC,CAAD,CAAR,CArBoC,wCA0BtCO,QAAQ,CAAC,CACPS,IAAI,CAAEhB,SADC,CAAD,CAAR,CA1BsC,sEAAR,kEAA3B","sourcesContent":["import {\r\n  START_CART,\r\n  CART_SUCCESS,\r\n  CART_FAIL,\r\n  DELETE_SUCCESS,\r\n} from \"../constants\";\r\nimport axios from \"axios\";\r\nimport { returnErrors, clearErrors } from \"./errors\";\r\n\r\nexport const fetchCart = (user_id) => async (dispatch) => {\r\n  if (localStorage.getItem(\"access\")) {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `JWT ${localStorage.getItem(\"access\")}`,\r\n        Accept: \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      const res = await axios.get(\r\n        `http://127.0.0.1:8000/products/OrderSummary/${user_id}`,\r\n        config\r\n      );\r\n\r\n      dispatch({\r\n        type: CART_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: CART_FAIL,\r\n      });\r\n    }\r\n  } else {\r\n    dispatch({\r\n      type: CART_FAIL,\r\n    });\r\n  }\r\n};\r\n\r\nexport const DeleteItemFromCart = (id) => async (dispatch) => {\r\n  if (localStorage.getItem(\"access\")) {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `JWT ${localStorage.getItem(\"access\")}`,\r\n        Accept: \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      await axios.delete(\r\n        `http://127.0.0.1:8000/products/order-items/${id}/delete/`,\r\n        config\r\n      );\r\n\r\n      dispatch({\r\n        type: DELETE_SUCCESS,\r\n        payload: id,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: CART_FAIL,\r\n      });\r\n    }\r\n  } else {\r\n    dispatch({\r\n      type: CART_FAIL,\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}