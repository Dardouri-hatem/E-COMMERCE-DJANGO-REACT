{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{SIGNUP_SUCCESS,ACTIVATION_SUCCESS,ACTIVATION_FAIL,RESET_PASSWORD_SUCCESS,RESET_PASSWORD_FAIL,RESET_PASSWORD_CONFIRM_SUCCESS,RESET_PASSWORD_CONFIRM_FAIL,LOGOUT,LOGIN_SUCCESS,USER_LOADED_SUCCESS,USER_LOADED_FAIL,AUTHENTICATED_SUCCESS,AUTHENTICATED_FAIL}from'../constants';import{returnErrors,clearErrors}from\"./errors\";// CHECK AUTHENTICATION\nexport var checkAuthenticated=function checkAuthenticated(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(typeof window=='undefined'){dispatch({type:AUTHENTICATED_FAIL});}if(!localStorage.getItem('access')){_context.next=16;break;}config={headers:{'Accept':'application/json','Content-Type':'application/json'}};body=JSON.stringify({token:localStorage.getItem('access')});_context.prev=4;_context.next=7;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/auth/jwt/verify/\"),body,config);case 7:res=_context.sent;if(res.data.code!=='token_not_valid'){dispatch({type:AUTHENTICATED_SUCCESS});}else{dispatch({type:AUTHENTICATED_FAIL});}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);dispatch({type:AUTHENTICATED_FAIL});case 14:_context.next=17;break;case 16:dispatch({type:AUTHENTICATED_FAIL});case 17:case\"end\":return _context.stop();}}},_callee,null,[[4,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// REGISTER A NEW USER \nexport var sign_up=function sign_up(_ref2){var name=_ref2.name,email=_ref2.email,password=_ref2.password,re_password=_ref2.re_password;return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};body=JSON.stringify({name:name,email:email,password:password,re_password:re_password});_context2.prev=2;_context2.next=5;return axios.post(\"http://127.0.0.1:8000/auth/users/\",body,config);case 5:res=_context2.sent;dispatch({type:SIGNUP_SUCCESS,payload:res.data});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);dispatch(returnErrors({msg:_context2.t0.response.data,status:_context2.t0.response.status,id:\"SIGNUP_FAIL\"}));case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[2,9]]);}));return function(_x2){return _ref3.apply(this,arguments);};}();};// VERIFY WITH AN EMAIL SENT TO USER'S EMAIL \nexport var verify=function verify(uid,token){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config={headers:{'Content-Type':'application/json'}};body=JSON.stringify({uid:uid,token:token});_context3.prev=2;_context3.next=5;return axios.post(\"http://127.0.0.1:8000/auth/users/activation/\",body,config);case 5:res=_context3.sent;dispatch({type:ACTIVATION_SUCCESS,payload:res.data});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](2);dispatch({type:ACTIVATION_FAIL});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[2,9]]);}));return function(_x3){return _ref4.apply(this,arguments);};}();};// LOGIN A USER \nexport var login=function login(email,password){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{'Content-Type':'application/json'}};body=JSON.stringify({email:email,password:password});_context4.prev=2;_context4.next=5;return axios.post(\"http://127.0.0.1:8000/auth/jwt/create/\",body,config);case 5:res=_context4.sent;dispatch({type:LOGIN_SUCCESS,payload:res.data});dispatch(load_user());_context4.next=13;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](2);dispatch(returnErrors({msg:_context4.t0.response.data,status:_context4.t0.response.status,id:\"LOGIN_FAIL\"}));case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[2,10]]);}));return function(_x4){return _ref5.apply(this,arguments);};}();};// LOAD A USER \nexport var load_user=function load_user(){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!localStorage.getItem('access')){_context5.next=14;break;}config={headers:{'Content-Type':'application/json','Authorization':\"JWT \".concat(localStorage.getItem('access')),'Accept':'application/json'}};_context5.prev=2;_context5.next=5;return axios.get(\"http://127.0.0.1:8000/auth/users/me/\",config);case 5:res=_context5.sent;dispatch({type:USER_LOADED_SUCCESS,payload:res.data});_context5.next=12;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](2);dispatch({type:USER_LOADED_FAIL});case 12:_context5.next=15;break;case 14:dispatch({type:USER_LOADED_FAIL});case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[2,9]]);}));return function(_x5){return _ref6.apply(this,arguments);};}();};// FORGET PASSWORD ----> SENT AN EMAIL TO CONFIRM\nexport var reset_password=function reset_password(email){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:config={headers:{'Content-Type':'application/json'}};body=JSON.stringify({email:email});_context6.prev=2;_context6.next=5;return axios.post(\"http://127.0.0.1:8000/auth/users/reset_password/\",body,config);case 5:res=_context6.sent;dispatch({type:RESET_PASSWORD_SUCCESS,payload:res.data});_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](2);dispatch(returnErrors({msg:_context6.t0.response.data,status:_context6.t0.response.status,id:\"RESET_PASSWORD_FAIL\"}));case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[2,9]]);}));return function(_x6){return _ref7.apply(this,arguments);};}();};// RESET A NEW PASSWORD WITH LIEN SENT IN EMAIL\nexport var reset_password_confirm=function reset_password_confirm(uid,token,new_password,re_new_password){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:config={headers:{'Content-Type':'application/json'}};body=JSON.stringify({uid:uid,token:token,new_password:new_password,re_new_password:re_new_password});_context7.prev=2;_context7.next=5;return axios.post(\"http://127.0.0.1:8000/auth/users/reset_password_confirm/\",body,config);case 5:res=_context7.sent;dispatch({type:RESET_PASSWORD_CONFIRM_SUCCESS,payload:res.data});_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](2);dispatch({type:RESET_PASSWORD_CONFIRM_FAIL});case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[2,9]]);}));return function(_x7){return _ref8.apply(this,arguments);};}();};// LOGOUT\nexport var logout=function logout(){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dispatch({type:LOGOUT});case 1:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x8){return _ref9.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/dardo/Desktop/e-commerce/frontend/src/JS/actions/account.js"],"names":["axios","SIGNUP_SUCCESS","ACTIVATION_SUCCESS","ACTIVATION_FAIL","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAIL","RESET_PASSWORD_CONFIRM_SUCCESS","RESET_PASSWORD_CONFIRM_FAIL","LOGOUT","LOGIN_SUCCESS","USER_LOADED_SUCCESS","USER_LOADED_FAIL","AUTHENTICATED_SUCCESS","AUTHENTICATED_FAIL","returnErrors","clearErrors","checkAuthenticated","dispatch","window","type","localStorage","getItem","config","headers","body","JSON","stringify","token","post","process","env","REACT_APP_API_URL","res","data","code","sign_up","name","email","password","re_password","payload","msg","response","status","id","verify","uid","login","load_user","get","reset_password","reset_password_confirm","new_password","re_new_password","logout"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nimport {SIGNUP_SUCCESS,\r\n    ACTIVATION_SUCCESS,\r\n    ACTIVATION_FAIL,\r\n    RESET_PASSWORD_SUCCESS,\r\n    RESET_PASSWORD_FAIL,\r\n    RESET_PASSWORD_CONFIRM_SUCCESS,\r\n    RESET_PASSWORD_CONFIRM_FAIL,\r\n    LOGOUT,\r\n    LOGIN_SUCCESS,\r\n    USER_LOADED_SUCCESS,\r\n    USER_LOADED_FAIL,\r\n    AUTHENTICATED_SUCCESS,\r\n    AUTHENTICATED_FAIL,\r\n} from '../constants'\r\n\r\nimport { returnErrors, clearErrors } from \"./errors\";\r\n\r\n\r\n// CHECK AUTHENTICATION\r\nexport const checkAuthenticated = () => async dispatch => {\r\n    if (typeof window == 'undefined') {\r\n        dispatch({\r\n            type: AUTHENTICATED_FAIL\r\n        });\r\n    }\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        };\r\n    \r\n        const body = JSON.stringify({ token: localStorage.getItem('access') });\r\n    \r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/jwt/verify/`, body, config);\r\n    \r\n            if (res.data.code !== 'token_not_valid') {\r\n                dispatch({\r\n                    type: AUTHENTICATED_SUCCESS\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: AUTHENTICATED_FAIL\r\n                });\r\n            }\r\n        } catch (err) {\r\n            dispatch({\r\n                type: AUTHENTICATED_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: AUTHENTICATED_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\n// REGISTER A NEW USER \r\nexport const sign_up = ({name,email,password,re_password})=>async (dispatch)=>{\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n    const body = JSON.stringify({ name, email, password, re_password }); \r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/users/`, body, config);\r\n\r\n        dispatch({\r\n            type: SIGNUP_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (error) {\r\n        dispatch(\r\n            returnErrors({\r\n              msg: error.response.data,\r\n              status: error.response.status,\r\n              id: \"SIGNUP_FAIL\",\r\n            })\r\n          );\r\n    }\r\n}\r\n\r\n// VERIFY WITH AN EMAIL SENT TO USER'S EMAIL \r\nexport const verify = (uid, token) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({ uid, token }); \r\n\r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/users/activation/`, body, config);\r\n\r\n        dispatch({\r\n            type: ACTIVATION_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: ACTIVATION_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\n// LOGIN A USER \r\nexport const login = (email, password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ email, password });\r\n\r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/jwt/create/`, body, config);\r\n\r\n        dispatch({\r\n            type: LOGIN_SUCCESS,\r\n            payload: res.data\r\n        });\r\n\r\n        dispatch(load_user());\r\n    } catch (error) {\r\n        dispatch(\r\n            returnErrors({\r\n              msg: error.response.data,\r\n              status: error.response.status,\r\n              id: \"LOGIN_FAIL\",\r\n            })\r\n          );\r\n    }\r\n};\r\n\r\n\r\n// LOAD A USER \r\nexport const load_user = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json'\r\n            }\r\n        };\r\n\r\n        try {\r\n            const res = await axios.get(`http://127.0.0.1:8000/auth/users/me/`, config);\r\n\r\n            dispatch({\r\n                type: USER_LOADED_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: USER_LOADED_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: USER_LOADED_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n// FORGET PASSWORD ----> SENT AN EMAIL TO CONFIRM\r\nexport const reset_password = (email) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({ email }); \r\n\r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/users/reset_password/`, body, config);\r\n\r\n        dispatch({\r\n            type: RESET_PASSWORD_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (error) {\r\n        dispatch(\r\n            returnErrors({\r\n              msg: error.response.data,\r\n              status: error.response.status,\r\n              id: \"RESET_PASSWORD_FAIL\",\r\n            })\r\n          );\r\n    }\r\n};\r\n\r\n\r\n// RESET A NEW PASSWORD WITH LIEN SENT IN EMAIL\r\nexport const reset_password_confirm = (uid, token, new_password, re_new_password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({ uid, token, new_password, re_new_password }); \r\n\r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/users/reset_password_confirm/`, body, config);\r\n\r\n        dispatch({\r\n            type: RESET_PASSWORD_CONFIRM_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: RESET_PASSWORD_CONFIRM_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n// LOGOUT\r\nexport const logout = () => async (dispatch) => {\r\n    dispatch({ type: LOGOUT });\r\n}"]},"metadata":{},"sourceType":"module"}