{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{logout,checkAuthenticated,load_user}from'../../JS/actions/account';export var Header=/*#__PURE__*/function(_Component){_inherits(Header,_Component);var _super=_createSuper(Header);function Header(){var _this;_classCallCheck(this,Header);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.componentDidMount=function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.props.checkAuthenticated();case 3:_context.next=5;return _this.props.load_user();case 5:_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();};return _this;}_createClass(Header,[{key:\"render\",value:function render(){var _this$props$account=this.props.account,isAuthenticated=_this$props$account.isAuthenticated,user=_this$props$account.user;var authLinks=/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ml-auto mt-2 mt-lg-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"navbar-text mr-3\",children:/*#__PURE__*/_jsx(\"strong\",{children:user?\"Welcome \".concat(user.name):''})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.props.logout,className:\"nav-link btn btn-info btn-sm text-light\",children:\"Logout\"})})]});var guestLinks=/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ml-auto mt-2 mt-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"nav-link\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",children:\"Login\"})})]});return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-sm navbar-light bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarTogglerDemo01\",\"aria-controls\":\"navbarTogglerDemo01\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo01\",children:/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"#\",children:\"Lead Manager\"})}),isAuthenticated?authLinks:guestLinks]})});}}]);return Header;}(Component);var mapStateToProps=function mapStateToProps(state){return{account:state.account};};export default connect(mapStateToProps,{logout:logout,checkAuthenticated:checkAuthenticated,load_user:load_user})(Header);","map":{"version":3,"sources":["C:/Users/dardo/Desktop/e-commerce/frontend/src/components/layout/Header.js"],"names":["React","Component","Link","connect","logout","checkAuthenticated","load_user","Header","componentDidMount","fetchData","props","account","isAuthenticated","user","authLinks","name","guestLinks","mapStateToProps","state"],"mappings":"2gCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,MAAT,CAAiBC,kBAAjB,CAAqCC,SAArC,KAAsD,0BAAtD,CAEA,UAAaC,CAAAA,MAAb,2TACEC,iBADF,CACoB,UAAI,CAClB,GAAMC,CAAAA,SAAS,0FAAG,yKAEJ,OAAKC,KAAL,CAAWL,kBAAX,EAFI,8BAGJ,OAAKK,KAAL,CAAWJ,SAAX,EAHI,yJAAH,kBAATG,CAAAA,SAAS,0CAAf,CASAA,SAAS,GACZ,CAZH,yEAcW,yBAC2B,KAAKC,KAAL,CAAWC,OADtC,CACCC,eADD,qBACCA,eADD,CACkBC,IADlB,qBACkBA,IADlB,CAGP,GAAMC,CAAAA,SAAS,cACb,YAAI,SAAS,CAAC,iCAAd,wBACE,aAAM,SAAS,CAAC,kBAAhB,uBACE,wBAASD,IAAI,mBAAcA,IAAI,CAACE,IAAnB,EAA4B,EAAzC,EADF,EADF,cAIE,WAAI,SAAS,CAAC,UAAd,uBACE,eAAQ,OAAO,CAAE,KAAKL,KAAL,CAAWN,MAA5B,CAAoC,SAAS,CAAC,yCAA9C,oBADF,EAJF,GADF,CAaA,GAAMY,CAAAA,UAAU,cACd,YAAI,SAAS,CAAC,iCAAd,wBACE,WAAI,SAAS,CAAC,UAAd,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,UAA/B,sBADF,EADF,cAME,WAAI,SAAS,CAAC,UAAd,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,UAA5B,mBADF,EANF,GADF,CAeA,mBACE,YAAK,SAAS,CAAC,+CAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,eACE,SAAS,CAAC,gBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,cAAY,UAHd,CAIE,cAAY,sBAJd,CAKE,gBAAc,qBALhB,CAME,gBAAc,OANhB,CAOE,aAAW,mBAPb,uBASE,aAAM,SAAS,CAAC,qBAAhB,EATF,EADF,cAYE,YAAK,SAAS,CAAC,0BAAf,CAA0C,EAAE,CAAC,qBAA7C,uBACE,UAAG,SAAS,CAAC,cAAb,CAA4B,IAAI,CAAC,GAAjC,0BADF,EAZF,CAiBGJ,eAAe,CAAGE,SAAH,CAAeE,UAjBjC,GADF,EADF,CAuBD,CApEH,oBAA4Bf,SAA5B,EAuEA,GAAMgB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClCP,OAAO,CAAEO,KAAK,CAACP,OADmB,CAAZ,EAAxB,CAIA,cAAeR,CAAAA,OAAO,CAACc,eAAD,CAAkB,CAAEb,MAAM,CAANA,MAAF,CAASC,kBAAkB,CAAlBA,kBAAT,CAA6BC,SAAS,CAATA,SAA7B,CAAlB,CAAP,CAAmEC,MAAnE,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logout, checkAuthenticated, load_user } from '../../JS/actions/account';\n\nexport class Header extends Component {\n  componentDidMount=()=>{\n      const fetchData = async () => {\n          try {\n              await this.props.checkAuthenticated();\n              await this.props.load_user();\n          } catch (err) {\n\n          }\n      }\n\n      fetchData();\n  }\n  \n  render() {\n    const { isAuthenticated, user } = this.props.account;\n\n    const authLinks = (\n      <ul className=\"navbar-nav ml-auto mt-2 mt-lg-0\">\n        <span className=\"navbar-text mr-3\">\n          <strong>{user ? `Welcome ${user.name}` : ''}</strong>\n        </span>\n        <li className=\"nav-item\">\n          <button onClick={this.props.logout} className=\"nav-link btn btn-info btn-sm text-light\">\n            Logout\n          </button>\n        </li>\n      </ul>\n    );\n\n    const guestLinks = (\n      <ul className=\"navbar-nav ml-auto mt-2 mt-lg-0\">\n        <li className=\"nav-item\">\n          <Link to=\"/register\" className=\"nav-link\">\n            Register\n          </Link>\n        </li>\n        <li className=\"nav-item\">\n          <Link to=\"/login\" className=\"nav-link\">\n            Login\n          </Link>\n        </li>\n      </ul>\n    );\n\n    return (\n      <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n        <div className=\"container\">\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-toggle=\"collapse\"\n            data-target=\"#navbarTogglerDemo01\"\n            aria-controls=\"navbarTogglerDemo01\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\" />\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\n            <a className=\"navbar-brand\" href=\"#\">\n              Lead Manager\n            </a>\n          </div>\n          {isAuthenticated ? authLinks : guestLinks}\n        </div>\n      </nav>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  account: state.account,\n});\n\nexport default connect(mapStateToProps, { logout,checkAuthenticated, load_user })(Header);\n"]},"metadata":{},"sourceType":"module"}