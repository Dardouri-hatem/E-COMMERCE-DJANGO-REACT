{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{fetchCart,DeleteItemFromCart}from\"../../JS/actions/product\";import{connect}from\"react-redux\";import Spinner from\"../layout/spinner\";var OrderSummary=/*#__PURE__*/function(_Component){_inherits(OrderSummary,_Component);var _super=_createSuper(OrderSummary);function OrderSummary(){var _this;_classCallCheck(this,OrderSummary);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:false};_this.handleDelete=function(id){_this.props.DeleteItemFromCart(id);// this.props.fetchCart(this.props.user.id);\n};return _this;}_createClass(OrderSummary,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this2.props.fetchCart(_this2.props.user.id);case 3:_context.next=7;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);case 7:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();console.log(this.props.cart);}},{key:\"render\",value:function render(){var _this3=this;var cart=this.props.cart;var loading=this.state.loading;return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(\"div\",{className:\"card mt-1\",style:{width:\"100%\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table product-table \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"mdb-color lighten-5\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-bold\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Product\"})}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-bold\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Price\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-bold\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Quantity\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-bold\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Total Item\"})}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[cart?cart.order_items.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:/*#__PURE__*/_jsx(\"img\",{src:item.item.photo_main,alt:\"\",className:\"img-fluid z-depth-0\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"strong\",{children:item.item.title})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:item.item.category})]}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:item.item.price}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.quantity,\"aria-label\":\"Search\",className:\"form-control\",style:{width:\"100px\"}})}),/*#__PURE__*/_jsx(\"td\",{className:\"font-weight-bold\",children:/*#__PURE__*/_jsx(\"strong\",{children:item.final_price})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"btn btn-danger\",onClick:function onClick(){return _this3.handleDelete(item.id);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash-o fa-lg\"}),\" Delete\"]})})]},item.id);}):null,/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Total\"})})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"strong\",{children:cart?cart.total:null})})}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"text-right\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-warning btn-rounded\",children:[\"Complete purchase\",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right ml-2 fa-lg\",\"aria-hidden\":\"true\"})]})})]})]})]})})})})});}}]);return OrderSummary;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.account.user,cart:state.product.cart};};export default connect(mapStateToProps,{fetchCart:fetchCart,DeleteItemFromCart:DeleteItemFromCart})(OrderSummary);","map":{"version":3,"sources":["C:/Users/dardo/Desktop/e-commerce/frontend/src/components/Products/OrderSummary.js"],"names":["React","Component","fetchCart","DeleteItemFromCart","connect","Spinner","OrderSummary","state","loading","handleDelete","id","props","fetchData","user","console","log","cart","width","order_items","map","item","photo_main","title","category","price","quantity","final_price","total","mapStateToProps","account","product"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { fetchCart, DeleteItemFromCart } from \"../../JS/actions/product\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../layout/spinner\";\r\n\r\nclass OrderSummary extends Component {\r\n  state = { loading: false };\r\n  componentDidMount() {\r\n    const fetchData = async () => {\r\n      try {\r\n        await this.props.fetchCart(this.props.user.id);\r\n      } catch (error) {}\r\n    };\r\n\r\n    fetchData();\r\n    console.log(this.props.cart);\r\n  }\r\n\r\n  handleDelete = (id) => {\r\n    this.props.DeleteItemFromCart(id);\r\n    // this.props.fetchCart(this.props.user.id);\r\n  };\r\n  render() {\r\n    const { cart } = this.props;\r\n    const { loading } = this.state;\r\n    return (\r\n      <div>\r\n        {loading ? (\r\n          <Spinner />\r\n        ) : (\r\n          <div className=\"card mt-1\" style={{ width: \"100%\" }}>\r\n            <div className=\"card-body\">\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table product-table \">\r\n                  <thead className=\"mdb-color lighten-5\">\r\n                    <tr>\r\n                      <th></th>\r\n                      <th className=\"font-weight-bold\">\r\n                        <strong>Product</strong>\r\n                      </th>\r\n\r\n                      <th></th>\r\n                      <th className=\"font-weight-bold\">\r\n                        <strong>Price</strong>\r\n                      </th>\r\n                      <th className=\"font-weight-bold\">\r\n                        <strong>Quantity</strong>\r\n                      </th>\r\n                      <th className=\"font-weight-bold\">\r\n                        <strong>Total Item</strong>\r\n                      </th>\r\n                      <th></th>\r\n                    </tr>\r\n                  </thead>\r\n\r\n                  <tbody>\r\n                    {cart\r\n                      ? cart.order_items.map((item) => (\r\n                          <tr key={item.id}>\r\n                            <th scope=\"row\">\r\n                              <img\r\n                                src={item.item.photo_main}\r\n                                alt=\"\"\r\n                                className=\"img-fluid z-depth-0\"\r\n                              />\r\n                            </th>\r\n                            <td>\r\n                              <h5 className=\"mt-3\">\r\n                                <strong>{item.item.title}</strong>\r\n                              </h5>\r\n                              <p className=\"text-muted\">{item.item.category}</p>\r\n                            </td>\r\n                            <td></td>\r\n                            <td>{item.item.price}</td>\r\n                            <td>\r\n                              <input\r\n                                type=\"number\"\r\n                                value={item.quantity}\r\n                                aria-label=\"Search\"\r\n                                className=\"form-control\"\r\n                                style={{ width: \"100px\" }}\r\n                              />\r\n                            </td>\r\n                            <td className=\"font-weight-bold\">\r\n                              <strong>{item.final_price}</strong>\r\n                            </td>\r\n                            <td>\r\n                              <span\r\n                                className=\"btn btn-danger\"\r\n                                onClick={() => this.handleDelete(item.id)}\r\n                              >\r\n                                <i className=\"fa fa-trash-o fa-lg\"></i> Delete\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        ))\r\n                      : null}\r\n                    <tr>\r\n                      <td colSpan=\"3\"></td>\r\n                      <td>\r\n                        <h4 className=\"mt-2\">\r\n                          <strong>Total</strong>\r\n                        </h4>\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        <h4 className=\"mt-2\">\r\n                          <strong>{cart ? cart.total : null}</strong>\r\n                        </h4>\r\n                      </td>\r\n                      <td colSpan=\"3\" className=\"text-right\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-warning btn-rounded\"\r\n                        >\r\n                          Complete purchase\r\n                          <i\r\n                            className=\"fa fa-angle-right ml-2 fa-lg\"\r\n                            aria-hidden=\"true\"\r\n                          ></i>\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  user: state.account.user,\r\n  cart: state.product.cart,\r\n});\r\nexport default connect(mapStateToProps, { fetchCart, DeleteItemFromCart })(\r\n  OrderSummary\r\n);\r\n"]},"metadata":{},"sourceType":"module"}