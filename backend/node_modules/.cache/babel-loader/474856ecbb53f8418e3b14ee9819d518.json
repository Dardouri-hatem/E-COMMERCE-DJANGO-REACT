{"ast":null,"code":"import _slicedToArray from\"C:/Users/dardo/Desktop/e-commerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState}from\"react\";import{connect}from\"react-redux\";import\"./profile.css\";import{Button,Alert,Modal}from\"react-bootstrap\";import{deleteUser}from\"../../JS/actions/account\";import{Redirect}from\"react-router-dom\";// import ModalConfirm from \"../modalConfirm/modalConfirm\";\n// import { message } from \"antd\";\nfunction ModalConfirm(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var handelchange=function handelchange(e){setPassword(e.target.value);};var handleConfirm=function handleConfirm(){props.deleteUser(password);handleClose();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleShow,children:\"Delete account\"}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Delete Account\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(\"label\",{children:\" Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Current Password\",onChange:handelchange,value:password})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleConfirm,children:\"confirm\"})]})]})]});}function ProfileUser(props){var _useState5=useState({password:\"\",repeatPassword:\"\"}),_useState6=_slicedToArray(_useState5,2),updatePassword=_useState6[0],setPassword=_useState6[1];// const [updatedUser, setUpdatedUser] = useState({\n//   name: props.user ? props.user.name : \"\",\n//   email: props.user ? props.user.email : \"\",\n// });\n// const [id] = useState(props.user ? props.user._id : \"\");\n// const handleChange = (e) => {\n//   setUpdatedUser({ ...updatedUser, [e.target.name]: e.target.value });\n//   setPassword({ ...updatePassword, [e.target.name]: e.target.value });\n// };\n// const updateUser = ({ updatedUser, id }) => {\n//   props.updateUser({ updatedUser, id });\n//   if (!props.error.id) {\n//     message.success(\"Account updated !!!\");\n//   }\n// };\nreturn!props.user?/*#__PURE__*/_jsx(Redirect,{to:\"/login\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"container-profile bg-light\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"My account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-edit\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Entre Name\",name:\"name\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Your adress email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",name:\"email\",className:\"form-control\"}),/*#__PURE__*/_jsx(Button,{className:\"btn-update\",children:\"Update\"})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Change your password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-edit\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Current Password\"}),/*#__PURE__*/_jsx(\"label\",{children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"repeatPassword\",className:\"form-control\",placeholder:\"New Password\"}),/*#__PURE__*/_jsx(Button,{className:\" btn-update\",children:\"Confirm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"remove-account mb-4\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Remove Account\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You have the option to delete your account\"}),/*#__PURE__*/_jsx(\"p\",{children:\"NB: you will can't login with this account again \"}),/*#__PURE__*/_jsx(ModalConfirm,{deleteUser:props.deleteUser})]})]});}var mapStateToProps=function mapStateToProps(state){return{user:state.account.user,token:state.account.access,error:state.error};};export default connect(mapStateToProps,{deleteUser:deleteUser})(ProfileUser);","map":{"version":3,"sources":["C:/Users/dardo/Desktop/e-commerce/frontend/src/components/accounts/profile.js"],"names":["React","useState","connect","Button","Alert","Modal","deleteUser","Redirect","ModalConfirm","props","show","setShow","password","setPassword","handleClose","handleShow","handelchange","e","target","value","handleConfirm","ProfileUser","repeatPassword","updatePassword","user","mapStateToProps","state","account","token","access","error"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./profile.css\";\r\nimport { Button, Alert, Modal } from \"react-bootstrap\";\r\nimport { deleteUser } from \"../../JS/actions/account\";\r\nimport { Redirect } from \"react-router-dom\";\r\n// import ModalConfirm from \"../modalConfirm/modalConfirm\";\r\n// import { message } from \"antd\";\r\n\r\nfunction ModalConfirm(props) {\r\n  const [show, setShow] = useState(false);\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  const handelchange = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  const handleConfirm = () => {\r\n    props.deleteUser(password);\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button variant=\"danger\" onClick={handleShow}>\r\n        Delete account\r\n      </Button>\r\n\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Delete Account</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <label> Current Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Current Password\"\r\n            onChange={handelchange}\r\n            value={password}\r\n          />\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleConfirm}>\r\n            confirm\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ProfileUser(props) {\r\n  const [updatePassword, setPassword] = useState({\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n  });\r\n\r\n  // const [updatedUser, setUpdatedUser] = useState({\r\n  //   name: props.user ? props.user.name : \"\",\r\n  //   email: props.user ? props.user.email : \"\",\r\n  // });\r\n  // const [id] = useState(props.user ? props.user._id : \"\");\r\n\r\n  // const handleChange = (e) => {\r\n  //   setUpdatedUser({ ...updatedUser, [e.target.name]: e.target.value });\r\n  //   setPassword({ ...updatePassword, [e.target.name]: e.target.value });\r\n  // };\r\n  // const updateUser = ({ updatedUser, id }) => {\r\n  //   props.updateUser({ updatedUser, id });\r\n  //   if (!props.error.id) {\r\n  //     message.success(\"Account updated !!!\");\r\n  //   }\r\n  // };\r\n\r\n  return !props.user ? (\r\n    <Redirect to=\"/login\"></Redirect>\r\n  ) : (\r\n    <div className=\"container-profile bg-light\">\r\n      <h3>My account</h3>\r\n      <div className=\"container-edit\">\r\n        <label>Your Name</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Entre Name\"\r\n          name=\"name\"\r\n        />\r\n        <label>Your adress email</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          className=\"form-control\"\r\n        ></input>\r\n        <Button className=\"btn-update\">Update</Button>\r\n      </div>\r\n      <h5>Change your password</h5>\r\n      <div className=\"container-edit\">\r\n        <label> Current Password</label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"form-control\"\r\n          placeholder=\"Current Password\"\r\n        />\r\n        <label>New Password</label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"repeatPassword\"\r\n          className=\"form-control\"\r\n          placeholder=\"New Password\"\r\n        />\r\n        <Button className=\" btn-update\">Confirm</Button>\r\n      </div>\r\n      <div className=\"remove-account mb-4\">\r\n        <h6>Remove Account</h6>\r\n        <p>You have the option to delete your account</p>\r\n        <p>NB: you will can't login with this account again </p>\r\n        <ModalConfirm deleteUser={props.deleteUser} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.account.user,\r\n    token: state.account.access,\r\n    error: state.error,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { deleteUser })(ProfileUser);\r\n"]},"metadata":{},"sourceType":"module"}