{"ast":null,"code":"import axios from 'axios';\nimport { SIGNUP_SUCCESS, ACTIVATION_SUCCESS, ACTIVATION_FAIL, RESET_PASSWORD_SUCCESS, RESET_PASSWORD_FAIL, RESET_PASSWORD_CONFIRM_SUCCESS, RESET_PASSWORD_CONFIRM_FAIL, LOGOUT } from '../constants';\nimport { returnErrors, clearErrors } from \"./errors\"; // REGISTER A NEW USER \n\nexport const sign_up = ({\n  name,\n  email,\n  password,\n  re_password\n}) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    name,\n    email,\n    password,\n    re_password\n  });\n\n  try {\n    const res = await axios.post(`http://127.0.0.1:8000/auth/users/`, body, config);\n    dispatch({\n      type: SIGNUP_SUCCESS,\n      payload: res.data\n    });\n  } catch (error) {\n    dispatch(returnErrors({\n      msg: error.response.data,\n      status: error.response.status,\n      id: \"SIGNUP_FAIL\"\n    }));\n  }\n}; // VERIFY WITH AN EMAIL SENT TO USER'S EMAIL \n\nexport const verify = (uid, token) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    uid,\n    token\n  });\n\n  try {\n    const res = await axios.post(`http://127.0.0.1:8000/auth/users/activation/`, body, config);\n    dispatch({\n      type: ACTIVATION_SUCCESS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: ACTIVATION_FAIL\n    });\n  }\n}; // FORGET PASSWORD ----> SENT AN EMAIL TO CONFIRM\n\nexport const reset_password = email => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    email\n  });\n\n  try {\n    const res = await axios.post(`http://127.0.0.1:8000/auth/users/reset_password/`, body, config);\n    dispatch({\n      type: RESET_PASSWORD_SUCCESS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: RESET_PASSWORD_FAIL\n    });\n  }\n}; // RESET A NEW PASSWORD WITH LIEN SENT IN EMAIL\n\nexport const reset_password_confirm = (uid, token, new_password, re_new_password) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    uid,\n    token,\n    new_password,\n    re_new_password\n  });\n\n  try {\n    const res = await axios.post(`http://127.0.0.1:8000/auth/users/reset_password_confirm/`, body, config);\n    dispatch({\n      type: RESET_PASSWORD_CONFIRM_SUCCESS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: RESET_PASSWORD_CONFIRM_FAIL\n    });\n  }\n}; // LOGOUT\n\nexport const logout = () => async dispatch => {\n  dispatch({\n    type: LOGOUT\n  });\n};","map":{"version":3,"sources":["C:/Users/dardo/Desktop/e-commerce/frontend/src/JS/actions/account.js"],"names":["axios","SIGNUP_SUCCESS","ACTIVATION_SUCCESS","ACTIVATION_FAIL","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAIL","RESET_PASSWORD_CONFIRM_SUCCESS","RESET_PASSWORD_CONFIRM_FAIL","LOGOUT","returnErrors","clearErrors","sign_up","name","email","password","re_password","dispatch","config","headers","body","JSON","stringify","res","post","type","payload","data","error","msg","response","status","id","verify","uid","token","err","reset_password","reset_password_confirm","new_password","re_new_password","logout"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nimport {SIGNUP_SUCCESS,\r\n    ACTIVATION_SUCCESS,\r\n    ACTIVATION_FAIL,\r\n    RESET_PASSWORD_SUCCESS,\r\n    RESET_PASSWORD_FAIL,\r\n    RESET_PASSWORD_CONFIRM_SUCCESS,\r\n    RESET_PASSWORD_CONFIRM_FAIL,\r\n    LOGOUT} from '../constants'\r\n\r\nimport { returnErrors, clearErrors } from \"./errors\";\r\n\r\n\r\n// REGISTER A NEW USER \r\nexport const sign_up = ({name,email,password,re_password})=>async (dispatch)=>{\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n    const body = JSON.stringify({ name, email, password, re_password }); \r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/users/`, body, config);\r\n\r\n        dispatch({\r\n            type: SIGNUP_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (error) {\r\n        dispatch(\r\n            returnErrors({\r\n              msg: error.response.data,\r\n              status: error.response.status,\r\n              id: \"SIGNUP_FAIL\",\r\n            })\r\n          );\r\n    }\r\n}\r\n\r\n// VERIFY WITH AN EMAIL SENT TO USER'S EMAIL \r\nexport const verify = (uid, token) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({ uid, token }); \r\n\r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/users/activation/`, body, config);\r\n\r\n        dispatch({\r\n            type: ACTIVATION_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: ACTIVATION_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n// FORGET PASSWORD ----> SENT AN EMAIL TO CONFIRM\r\nexport const reset_password = (email) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({ email }); \r\n\r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/users/reset_password/`, body, config);\r\n\r\n        dispatch({\r\n            type: RESET_PASSWORD_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: RESET_PASSWORD_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\n// RESET A NEW PASSWORD WITH LIEN SENT IN EMAIL\r\nexport const reset_password_confirm = (uid, token, new_password, re_new_password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({ uid, token, new_password, re_new_password }); \r\n\r\n    try {\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/users/reset_password_confirm/`, body, config);\r\n\r\n        dispatch({\r\n            type: RESET_PASSWORD_CONFIRM_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: RESET_PASSWORD_CONFIRM_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n// LOGOUT\r\nexport const logout = () => async (dispatch) => {\r\n    dispatch({ type: LOGOUT });\r\n}"]},"metadata":{},"sourceType":"module"}